services:
  antigravity-claude-proxy:
    build: .
    ports:
      - "48123:48123"
      - "51121:51121"
    environment:
      PORT: "48123"
      ACCOUNT_CONFIG_PATH: "/data/accounts.json"
      # Optional: use Antigravity single-account mode by mounting state.vscdb
      # ANTIGRAVITY_DB_PATH: "/data/state.vscdb"
      # Disable SSL verification for corporate proxies/SSL inspection
      NODE_TLS_REJECT_UNAUTHORIZED: "0"
    volumes:
      - antigravity_proxy_data:/data
    restart: unless-stopped

volumes:
  antigravity_proxy_data:
